#!/usr/bin/env sh

set -x

export PATH="$HOME/.foundry/bin:$PATH"

BOR_PRIVATE_KEY={{ obj.config.primaryAccount.privateKey }}

cd {{ obj.contracts.repositoryDir }}

# We use --legacy here so that the transaction doesn't fail on Bor with low transaction fees,
# and 8545 because we want to deploy the contract on the Bor (L2) and not on the Anvil (L1).
forge script scripts/deployment-scripts/childContractDeployment.s.sol:ChildContractDeploymentScript --legacy --rpc-url http://localhost:8545 --private-key $BOR_PRIVATE_KEY --broadcast